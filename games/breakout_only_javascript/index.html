<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>2D breakout game using pure JavaScript</title>
    <style>
      canvas {
        background: #eee;
        display: block;
        margin: 100px auto 0 auto;
      }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" width="480" height="320"></canvas>

    <script>
      function getRandomColor() {
        const letters = "0123456789ABCDEF";
        let color = "#";

        for (let i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }

        return color;
      }

      const canvas = document.getElementById("myCanvas");
      const ctx = canvas.getContext("2d");

      // Define how big the ball is
      const ballRadius = 10;

      // Initial starting point of the ball
      let x = canvas.width / 2;
      let y = canvas.height - 30;

      // Define how pany pixels the ball
      // will move each from
      let dx = 2;
      let dy = -2;

      let ballColor = getRandomColor();

      function draw() {
        // Don't forget to clear the screen first!
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw a ball
        ctx.beginPath();
        ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
        ctx.fillStyle = ballColor;
        ctx.fill();
        ctx.closePath();

        // Make sure we don't go off the
        // left or right side of the screen
        if (x + dx > canvas.width || x + dx < 0) {
          // We hit a wall!
          dx = -dx;
          ballColor = getRandomColor();
        }

        // Make sure we don't go off the
        // top or bottom of the screen
        if (y + dy > canvas.height || y + dy < 0) {
          // We hit a wall!
          dy = -dy;
          ballColor = getRandomColor();
        }

        // Update X and Y so the ball will
        // draw in a new spot next "frame"
        x = x + dx;
        y = y + dy;
      }

      // Every 10 milliseconds, run the "draw" function
      setInterval(draw, 10);
    </script>
  </body>
</html>
